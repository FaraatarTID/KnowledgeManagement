# --- AIKB SERVER CONFIGURATION ---
# Copy this file to .env and adjust as needed.

# Environment (development/production)
NODE_ENV=development
PORT=3001

# SECURITY: Secret key for signing login sessions.
# Must be hex-encoded random bytes (>=64 hex chars).
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
# Easy Mode fallback: if JWT_SECRET is omitted (or invalid) and VECTOR_STORE_MODE=LOCAL,
# the server generates a temporary secret at startup (sessions reset on restart).

# --- BOOTSTRAP ADMIN ---
# Used to create the very first user on a fresh database.
# Note: INITIAL_ADMIN_PASSWORD must meet complexity requirements.
INITIAL_ADMIN_EMAIL=admin@aikb.com
INITIAL_ADMIN_PASSWORD=Admin@123456
INITIAL_ADMIN_NAME=System Administrator

# --- AI CONFIGURATION (RAG + CHAT) ---
# Vector store mode is independent from Gemini provider selection.
# VECTOR_STORE_MODE controls vector infrastructure only.
VECTOR_STORE_MODE=LOCAL

# Gemini backend selection: AUTO | AI_STUDIO | VERTEX
# AUTO picks AI_STUDIO when GOOGLE_API_KEY is set, otherwise VERTEX.
GEMINI_BACKEND=AUTO

# AI Studio credential (used when GEMINI_BACKEND resolves to AI_STUDIO)
# Get a Gemini API key from https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your-gemini-key-here

# Vertex credential (used when GEMINI_BACKEND resolves to VERTEX)
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1

# --- GOOGLE DRIVE CONNECTION (OPTIONAL) ---
# If GOOGLE_DRIVE_FOLDER_ID is omitted, server runs in LOCAL DOCUMENT MODE
# (manual uploads + local metadata/index only).
# Path to your service account JSON file (relative to server/).
# Standard location: server/data/google-key.json
GOOGLE_DRIVE_FOLDER_ID=your-drive-folder-id-here
GCP_KEY_FILE=data/google-key.json

# --- DATABASE (SUPABASE) ---
# Required for production persistence and audit logs.
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=

# --- AI MODELS ---
GEMINI_MODEL=gemini-flash-latest
# Vertex embedding model (used when GEMINI_BACKEND resolves to VERTEX)
EMBEDDING_MODEL=text-embedding-004
# AI Studio embedding model (used when GEMINI_BACKEND resolves to AI_STUDIO)
AI_STUDIO_EMBEDDING_MODEL=gemini-embedding-001

# --- SECURITY ---
# Comma-separated list of allowed frontend URLs
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# --- OBSERVABILITY ---
# Optional: Sentry DSN for server error tracking
SENTRY_DSN=
